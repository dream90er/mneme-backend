CREATE TABLE mnemo_user ("id" SERIAL PRIMARY KEY, "login" VARCHAR(100) NOT NULL UNIQUE, "email" VARCHAR(255) UNIQUE, "password" VARCHAR(255) NOT NULL, "mnemo_group" VARCHAR(50) NOT NULL);
CREATE TABLE host_provider ("id" SERIAL PRIMARY KEY, "title" VARCHAR(50) NOT NULL UNIQUE);
CREATE TABLE track ("id" SERIAL PRIMARY KEY, "title" VARCHAR(255) NOT NULL, "host_provider_id" INTEGER REFERENCES host_provider, "track_id_in_host_provider" VARCHAR(255) NOT NULL, "description" TEXT, "thumbnail" VARCHAR(255), "availability" BOOLEAN NOT NULL, UNIQUE("host_provider_id", "track_id_in_host_provider"));
CREATE TABLE playlist ("id" SERIAL PRIMARY KEY, "title" VARCHAR(255) NOT NULL,  "host_provider_id" INTEGER REFERENCES host_provider, "playlist_id_in_host_provider" VARCHAR(255) NOT NULL, "owner_id" VARCHAR(255) NOT NULL, "availability" BOOLEAN NOT NULL, UNIQUE("host_provider_id", "playlist_id_in_host_provider"));
CREATE TABLE mnemo_user_playlist ("mnemo_user_id" INTEGER REFERENCES mnemo_user, "playlist_id" INTEGER REFERENCES playlist, UNIQUE("mnemo_user_id", "playlist_id"));
CREATE TABLE mnemo_user_host_provider ("mnemo_user_id" INTEGER REFERENCES mnemo_user, "host_provider_id" INTEGER REFERENCES host_provider, "user_id_in_host_provider" VARCHAR(255), "refresh_token" VARCHAR(255) NOT NULL, PRIMARY KEY ("mnemo_user_id", "host_provider_id"));
CREATE TABLE playlist_track ("playlist_id" INTEGER REFERENCES playlist, "track_id" INTEGER REFERENCES track, PRIMARY KEY ("playlist_id", "track_id"));